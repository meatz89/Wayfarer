{
  "packageId": "tutorial_scenes",
  "metadata": {
    "name": "Tutorial Scene Templates",
    "timestamp": "2025-10-30T00:00:00Z",
    "description": "Tutorial: Evening arrival, work for shelter, night rest, day 2 opening. Tests resource costs (Health/Stamina/Focus/Hunger), challenge completion rewards, time advancement, and AutoAdvance pattern.",
    "author": "Wayfarer Team",
    "version": "1.0.0"
  },
  "content": {
    "sceneTemplates": [
      {
        "id": "tutorial_evening_arrival",
        "archetype": "Linear",
        "presentationMode": "Modal",
        "isForced": false,
        "displayNameTemplate": "Evening Arrival at {VenueName}",
        "introNarrativeTemplate": "You arrive at {VenueName} as evening shadows lengthen. The warm glow from windows promises shelter, but your coin purse feels light.",
        "tier": 0,
        "isStarter": true,
        "expirationDays": null,
        "placementFilter": {
          "placementType": "NPC",
          "npcId": "elena",
          "personalityTypes": [],
          "minBond": null,
          "maxBond": 0,
          "npcTags": [],
          "locationProperties": [],
          "locationTags": [],
          "terrainTypes": [],
          "districtId": null,
          "regionId": null,
          "routeTier": null,
          "requiredStates": [],
          "forbiddenStates": [],
          "requiredAchievements": [],
          "scaleRequirements": []
        },
        "spawnRules": {
          "pattern": "Linear",
          "initialSituationId": "tutorial_shelter_decision",
          "transitions": [],
          "completionCondition": null
        },
        "situationTemplates": [
          {
            "id": "tutorial_shelter_decision",
            "narrativeTemplate": "{NPCName} wipes down tables while watching travelers settle in. She glances at you as you enter.\n\n'Need a room?' she asks. 'Ten coins. Standard rate.'\n\nYou have {PlayerCoins} coins. Night is approaching. Other travelers are already claiming tables and rooms.",
            "priority": 100,
            "narrativeHints": {
              "tone": "pragmatic",
              "theme": "scarcity",
              "context": "first choice",
              "style": "direct"
            },
            "choiceTemplates": [
              {
                "id": "elena_social_work",
                "actionTextTemplate": "Offer to Help Elena with Evening Service",
                "actionType": "StartChallenge",
                "challengeId": "tutorial_social_service",
                "challengeType": "Social",
                "requirementFormula": {
                  "logicType": "Simple",
                  "numericRequirement": null,
                  "compoundRequirements": []
                },
                "costTemplate": {
                  "resolve": 0,
                  "coins": 0,
                  "timeSegments": 1,
                  "health": 0,
                  "stamina": 0,
                  "focus": 1,
                  "hunger": 0
                },
                "rewardTemplate": {
                  "coins": 5,
                  "resolve": 0,
                  "timeSegments": 0,
                  "health": 0,
                  "stamina": 0,
                  "focus": 0,
                  "hunger": -10,
                  "bondChanges": [
                    {
                      "npcId": "elena",
                      "bondChange": 5
                    }
                  ],
                  "scaleShifts": [],
                  "stateApplications": [],
                  "achievementIds": [],
                  "itemIds": [],
                  "scenesToSpawn": [
                    {
                      "sceneTemplateId": "tutorial_secure_room",
                      "placementRelation": "SameNPC",
                      "specificPlacementId": null,
                      "spawnTiming": "Immediate"
                    }
                  ]
                },
                "navigationPayload": null
              },
              {
                "id": "thomas_physical_work",
                "actionTextTemplate": "Go to Thomas at the Warehouse for Work",
                "actionType": "StartChallenge",
                "challengeId": "tutorial_physical_warehouse",
                "challengeType": "Physical",
                "requirementFormula": {
                  "logicType": "Simple",
                  "numericRequirement": null,
                  "compoundRequirements": []
                },
                "costTemplate": {
                  "resolve": 0,
                  "coins": 0,
                  "timeSegments": 1,
                  "health": 0,
                  "stamina": 1,
                  "focus": 0,
                  "hunger": 0
                },
                "rewardTemplate": {
                  "coins": 5,
                  "resolve": 0,
                  "timeSegments": 0,
                  "health": 0,
                  "stamina": 0,
                  "focus": 0,
                  "hunger": 5,
                  "bondChanges": [
                    {
                      "npcId": "thomas",
                      "bondChange": 5
                    }
                  ],
                  "scaleShifts": [],
                  "stateApplications": [],
                  "achievementIds": [],
                  "itemIds": [],
                  "scenesToSpawn": [
                    {
                      "sceneTemplateId": "tutorial_secure_room",
                      "placementRelation": "SpecificNPC",
                      "specificPlacementId": "elena",
                      "spawnTiming": "Immediate"
                    }
                  ]
                },
                "navigationPayload": null
              },
              {
                "id": "sleep_rough",
                "actionTextTemplate": "Sleep Rough in Town Square",
                "actionType": "Instant",
                "challengeId": null,
                "challengeType": null,
                "requirementFormula": {
                  "logicType": "Simple",
                  "numericRequirement": null,
                  "compoundRequirements": []
                },
                "costTemplate": {
                  "resolve": 0,
                  "coins": 0,
                  "timeSegments": 6,
                  "health": 0,
                  "stamina": 0,
                  "focus": 0,
                  "hunger": 0
                },
                "rewardTemplate": {
                  "coins": 0,
                  "resolve": 0,
                  "timeSegments": 0,
                  "health": -2,
                  "stamina": 0,
                  "focus": 0,
                  "hunger": 0,
                  "advanceToBlock": "Morning",
                  "advanceToDay": "NextDay",
                  "bondChanges": [
                    {
                      "npcId": "elena",
                      "bondChange": -3
                    }
                  ],
                  "scaleShifts": [],
                  "stateApplications": [],
                  "achievementIds": [],
                  "itemIds": [],
                  "scenesToSpawn": [
                    {
                      "sceneTemplateId": "tutorial_rough_morning",
                      "placementRelation": "SpecificLocation",
                      "specificPlacementId": "square_center",
                      "spawnTiming": "Immediate"
                    }
                  ]
                },
                "navigationPayload": null
              }
            ]
          }
        ]
      },
      {
        "id": "tutorial_secure_room",
        "archetype": "Linear",
        "presentationMode": "Modal",
        "displayNameTemplate": "Securing Lodging",
        "introNarrativeTemplate": "You return to {NPCName}, coins in hand. She nods approvingly.",
        "tier": 0,
        "isStarter": false,
        "expirationDays": null,
        "placementFilter": {
          "placementType": "NPC",
          "npcId": "elena",
          "personalityTypes": [],
          "minBond": null,
          "maxBond": null,
          "npcTags": [],
          "locationProperties": [],
          "locationTags": [],
          "terrainTypes": [],
          "districtId": null,
          "regionId": null,
          "routeTier": null,
          "requiredStates": [],
          "forbiddenStates": [],
          "requiredAchievements": [],
          "scaleRequirements": []
        },
        "spawnRules": {
          "pattern": "Linear",
          "initialSituationId": "tutorial_pay_for_room",
          "transitions": [],
          "completionCondition": null
        },
        "situationTemplates": [
          {
            "id": "tutorial_pay_for_room",
            "narrativeTemplate": "{NPCName} counts your coins on the bar.\n\n'Ten coins,' she says. 'Upstairs, second door on the left. I'll have someone bring up water for washing.'\n\nThe promise of a real bed, safety through the night, calls to you.",
            "priority": 100,
            "narrativeHints": {
              "tone": "businesslike",
              "theme": "transaction",
              "context": "payment",
              "style": "matter-of-fact"
            },
            "choiceTemplates": [
              {
                "id": "pay_room_cost",
                "actionTextTemplate": "Pay 10 Coins for the Room",
                "actionType": "Instant",
                "challengeId": null,
                "challengeType": null,
                "requirementFormula": {
                  "logicType": "Simple",
                  "numericRequirement": {
                    "requirementType": "Coins",
                    "comparisonOperator": "GreaterThanOrEqual",
                    "thresholdValue": 10
                  },
                  "compoundRequirements": []
                },
                "costTemplate": {
                  "resolve": 0,
                  "coins": 10,
                  "timeSegments": 0,
                  "health": 0,
                  "stamina": 0,
                  "focus": 0,
                  "hunger": 0
                },
                "rewardTemplate": {
                  "coins": 0,
                  "resolve": 0,
                  "timeSegments": 0,
                  "health": 0,
                  "stamina": 0,
                  "focus": 0,
                  "hunger": 0,
                  "bondChanges": [],
                  "scaleShifts": [],
                  "stateApplications": [],
                  "achievementIds": [],
                  "itemIds": [],
                  "scenesToSpawn": [
                    {
                      "sceneTemplateId": "tutorial_night_rest",
                      "placementRelation": "SpecificLocation",
                      "specificPlacementId": "common_room",
                      "spawnTiming": "Immediate"
                    }
                  ]
                },
                "navigationPayload": null
              },
              {
                "id": "keep_coins_sleep_rough",
                "actionTextTemplate": "Keep Your Coins (Sleep Outside)",
                "actionType": "Instant",
                "challengeId": null,
                "challengeType": null,
                "requirementFormula": {
                  "logicType": "Simple",
                  "numericRequirement": null,
                  "compoundRequirements": []
                },
                "costTemplate": {
                  "resolve": 0,
                  "coins": 0,
                  "timeSegments": 6,
                  "health": 0,
                  "stamina": 0,
                  "focus": 0,
                  "hunger": 0
                },
                "rewardTemplate": {
                  "coins": 0,
                  "resolve": 0,
                  "timeSegments": 0,
                  "health": -2,
                  "stamina": 0,
                  "focus": 0,
                  "hunger": 0,
                  "advanceToBlock": "Morning",
                  "advanceToDay": "NextDay",
                  "bondChanges": [
                    {
                      "npcId": "elena",
                      "bondChange": -3
                    }
                  ],
                  "scaleShifts": [],
                  "stateApplications": [],
                  "achievementIds": [],
                  "itemIds": [],
                  "scenesToSpawn": [
                    {
                      "sceneTemplateId": "tutorial_rough_morning",
                      "placementRelation": "SpecificLocation",
                      "specificPlacementId": "square_center",
                      "spawnTiming": "Immediate"
                    }
                  ]
                },
                "navigationPayload": null
              }
            ]
          }
        ]
      },
      {
        "id": "tutorial_night_rest",
        "archetype": "AutoAdvance",
        "presentationMode": "Modal",
        "displayNameTemplate": "Night's Rest",
        "introNarrativeTemplate": "You climb the stairs to your room, exhaustion weighing on you.",
        "tier": 0,
        "isStarter": false,
        "expirationDays": null,
        "placementFilter": {
          "placementType": "Location",
          "locationId": "common_room",
          "personalityTypes": [],
          "minBond": null,
          "maxBond": null,
          "npcTags": [],
          "locationProperties": ["restful"],
          "locationTags": [],
          "terrainTypes": [],
          "districtId": null,
          "regionId": null,
          "routeTier": null,
          "requiredStates": [],
          "forbiddenStates": [],
          "requiredAchievements": [],
          "scaleRequirements": []
        },
        "spawnRules": {
          "pattern": "Linear",
          "initialSituationId": "tutorial_sleep_and_recover",
          "transitions": [],
          "completionCondition": null
        },
        "situationTemplates": [
          {
            "id": "tutorial_sleep_and_recover",
            "narrativeTemplate": "The bed is simple but clean. You wash off the road dust and collapse into the mattress.\n\nNight passes. You sleep deeply—the first real bed in days. No nightmares, no disturbances.\n\nMorning light filters through the window. You hear the town waking up below: cart wheels, vendor calls, the day beginning.\n\nYou feel restored. Ready.",
            "priority": 100,
            "narrativeHints": {
              "tone": "peaceful",
              "theme": "recovery",
              "context": "rest",
              "style": "descriptive"
            },
            "choiceTemplates": [],
            "autoProgressRewards": {
              "coins": 0,
              "resolve": 0,
              "timeSegments": 0,
              "health": 6,
              "stamina": 6,
              "focus": 6,
              "hunger": 0,
              "advanceToBlock": "Morning",
              "advanceToDay": "NextDay",
              "bondChanges": [],
              "scaleShifts": [],
              "stateApplications": [],
              "achievementIds": ["tutorial_first_rest"],
              "itemIds": [],
              "scenesToSpawn": [
                {
                  "sceneTemplateId": "tutorial_day2_morning",
                  "placementRelation": "SameLocation",
                  "specificPlacementId": null,
                  "spawnTiming": "Immediate"
                }
              ]
            }
          }
        ]
      },
      {
        "id": "tutorial_day2_morning",
        "archetype": "Linear",
        "presentationMode": "Modal",
        "displayNameTemplate": "A New Day",
        "introNarrativeTemplate": "Morning in {VenueName}. The world feels different after rest.",
        "tier": 0,
        "isStarter": false,
        "expirationDays": null,
        "placementFilter": {
          "placementType": "Location",
          "locationId": "common_room",
          "personalityTypes": [],
          "minBond": null,
          "maxBond": null,
          "npcTags": [],
          "locationProperties": [],
          "locationTags": [],
          "terrainTypes": [],
          "districtId": null,
          "regionId": null,
          "routeTier": null,
          "requiredStates": [],
          "forbiddenStates": [],
          "requiredAchievements": [],
          "scaleRequirements": []
        },
        "spawnRules": {
          "pattern": "Standalone",
          "initialSituationId": "tutorial_world_opens",
          "transitions": [],
          "completionCondition": null
        },
        "situationTemplates": [
          {
            "id": "tutorial_world_opens",
            "narrativeTemplate": "You descend to the common room. Elena is already working, preparing breakfast for the morning crowd.\n\n'Sleep well?' she asks without looking up. 'Good. If you're looking for work, Thomas mentioned he might have steady jobs at the warehouse—if you proved reliable yesterday.'\n\nShe nods toward the door. 'There's also talk of trouble at the old mill. Something about the waterwheel. Could be worth investigating if you're the curious type.'\n\nThe day stretches ahead. The town is open. Choices to make.",
            "priority": 100,
            "narrativeHints": {
              "tone": "opening",
              "theme": "possibilities",
              "context": "beginning",
              "style": "hopeful"
            },
            "choiceTemplates": [
              {
                "id": "begin_day2",
                "actionTextTemplate": "Begin Your Day",
                "actionType": "Instant",
                "challengeId": null,
                "challengeType": null,
                "requirementFormula": {
                  "logicType": "Simple",
                  "numericRequirement": null,
                  "compoundRequirements": []
                },
                "costTemplate": {
                  "resolve": 0,
                  "coins": 0,
                  "timeSegments": 0,
                  "health": 0,
                  "stamina": 0,
                  "focus": 0,
                  "hunger": 0
                },
                "rewardTemplate": {
                  "coins": 0,
                  "resolve": 0,
                  "timeSegments": 0,
                  "health": 0,
                  "stamina": 0,
                  "focus": 0,
                  "hunger": 0,
                  "bondChanges": [],
                  "scaleShifts": [],
                  "stateApplications": [],
                  "achievementIds": ["tutorial_complete"],
                  "itemIds": [],
                  "scenesToSpawn": [
                    {
                      "sceneTemplateId": "inn_trouble_brewing",
                      "placementRelation": "Generic",
                      "specificPlacementId": null,
                      "spawnTiming": "Immediate"
                    }
                  ]
                },
                "navigationPayload": null
              },
              {
                "id": "rest_more",
                "actionTextTemplate": "Rest a Bit Longer",
                "actionType": "Instant",
                "challengeId": null,
                "challengeType": null,
                "requirementFormula": {
                  "logicType": "Simple",
                  "numericRequirement": null,
                  "compoundRequirements": []
                },
                "costTemplate": {
                  "resolve": 0,
                  "coins": 0,
                  "timeSegments": 2,
                  "health": 0,
                  "stamina": 0,
                  "focus": 0,
                  "hunger": 0
                },
                "rewardTemplate": {
                  "coins": 0,
                  "resolve": 0,
                  "timeSegments": 0,
                  "health": 0,
                  "stamina": 1,
                  "focus": 1,
                  "hunger": 5,
                  "bondChanges": [],
                  "scaleShifts": [],
                  "stateApplications": [],
                  "achievementIds": ["tutorial_complete"],
                  "itemIds": [],
                  "scenesToSpawn": [
                    {
                      "sceneTemplateId": "inn_trouble_brewing",
                      "placementRelation": "Generic",
                      "specificPlacementId": null,
                      "spawnTiming": "Immediate"
                    }
                  ]
                },
                "navigationPayload": null
              }
            ]
          }
        ]
      },
      {
        "id": "tutorial_rough_morning",
        "archetype": "Linear",
        "presentationMode": "Modal",
        "displayNameTemplate": "Cold Morning",
        "introNarrativeTemplate": "Morning comes slowly. The cold has seeped into your bones.",
        "tier": 0,
        "isStarter": false,
        "expirationDays": null,
        "placementFilter": {
          "placementType": "Location",
          "locationId": "square_center",
          "personalityTypes": [],
          "minBond": null,
          "maxBond": null,
          "npcTags": [],
          "locationProperties": [],
          "locationTags": [],
          "terrainTypes": [],
          "districtId": null,
          "regionId": null,
          "routeTier": null,
          "requiredStates": [],
          "forbiddenStates": [],
          "requiredAchievements": [],
          "scaleRequirements": []
        },
        "spawnRules": {
          "pattern": "Standalone",
          "initialSituationId": "tutorial_morning_after_rough_sleep",
          "transitions": [],
          "completionCondition": null
        },
        "situationTemplates": [
          {
            "id": "tutorial_morning_after_rough_sleep",
            "narrativeTemplate": "Morning comes slowly. You're cold, stiff, and your body aches from sleeping on stone.\n\nThe fountain provided water, but no shelter from the wind. You feel the damage—not crippling, but real.\n\nThe tavern is across the square. Elena is visible through the windows, serving breakfast. She doesn't look your way.\n\nYou saved your coins. But at what cost?",
            "priority": 100,
            "narrativeHints": {
              "tone": "regretful",
              "theme": "consequence",
              "context": "hardship",
              "style": "somber"
            },
            "choiceTemplates": [
              {
                "id": "face_the_day",
                "actionTextTemplate": "Face the Day",
                "actionType": "Instant",
                "challengeId": null,
                "challengeType": null,
                "requirementFormula": {
                  "logicType": "Simple",
                  "numericRequirement": null,
                  "compoundRequirements": []
                },
                "costTemplate": {
                  "resolve": 0,
                  "coins": 0,
                  "timeSegments": 0,
                  "health": 0,
                  "stamina": 0,
                  "focus": 0,
                  "hunger": 0
                },
                "rewardTemplate": {
                  "coins": 0,
                  "resolve": 0,
                  "timeSegments": 0,
                  "health": 0,
                  "stamina": 2,
                  "focus": 2,
                  "hunger": 10,
                  "bondChanges": [],
                  "scaleShifts": [],
                  "stateApplications": [],
                  "achievementIds": ["tutorial_rough_path"],
                  "itemIds": [],
                  "scenesToSpawn": []
                },
                "navigationPayload": null
              },
              {
                "id": "find_food",
                "actionTextTemplate": "Search for Food First",
                "actionType": "Instant",
                "challengeId": null,
                "challengeType": null,
                "requirementFormula": {
                  "logicType": "Simple",
                  "numericRequirement": null,
                  "compoundRequirements": []
                },
                "costTemplate": {
                  "resolve": 0,
                  "coins": 0,
                  "timeSegments": 1,
                  "health": 0,
                  "stamina": 0,
                  "focus": 0,
                  "hunger": 0
                },
                "rewardTemplate": {
                  "coins": 0,
                  "resolve": 0,
                  "timeSegments": 0,
                  "health": 0,
                  "stamina": 1,
                  "focus": 1,
                  "hunger": -15,
                  "bondChanges": [],
                  "scaleShifts": [],
                  "stateApplications": [],
                  "achievementIds": ["tutorial_rough_path"],
                  "itemIds": [],
                  "scenesToSpawn": []
                },
                "navigationPayload": null
              }
            ]
          }
        ]
      }
    ]
  }
}
