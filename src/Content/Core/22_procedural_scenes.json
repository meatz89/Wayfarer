{
  "packageId": "core_procedural_scenes",
  "metadata": {
    "name": "Procedural Scene Templates - Archetype Demonstration",
    "timestamp": "2025-11-03T00:00:00Z",
    "description": "First procedural SceneTemplate demonstrating archetype-driven choice generation with categorical placement filtering. This template spawns at ANY Mercantile NPC in Commercial locations, not just specific NPCs.",
    "author": "Wayfarer Team",
    "version": "1.0.0"
  },
  "content": {
    "sceneTemplates": [
      {
        "id": "merchant_price_negotiation",
        "archetype": "Standalone",
        "displayNameTemplate": "Price Dispute with {NPCName}",
        "introNarrativeTemplate": "The merchant quotes a price that makes you pause. There's room to negotiate here.",
        "tier": 1,
        "isStarter": false,
        "expirationDays": 2,
        "placementFilter": {
          "placementType": "NPC",
          "personalityTypes": [
            "Mercantile"
          ],
          "minBond": 1,
          "maxBond": 10,
          "npcTags": [],
          "locationProperties": [
            "Commercial",
            "Public"
          ],
          "locationTags": [],
          "terrainTypes": [],
          "districtId": null,
          "regionId": null,
          "routeTier": null,
          "requiredStates": [],
          "forbiddenStates": [],
          "requiredAchievements": [],
          "scaleRequirements": []
        },
        "spawnConditions": {
          "isAlwaysEligible": false,
          "playerState": {
            "completedScenes": [],
            "choiceHistory": [],
            "minStats": {},
            "requiredItems": [],
            "locationVisits": {}
          },
          "worldState": {
            "weather": null,
            "timeBlock": null,
            "minDay": 2,
            "maxDay": null,
            "locationStates": []
          },
          "entityState": {
            "npcBond": {},
            "locationReputation": {},
            "routeTravelCount": {},
            "properties": []
          },
          "combinationLogic": "AND"
        },
        "sceneArchetypeId": "single_situation",
        "serviceType": "negotiation"
      },
      {
        "id": "guard_checkpoint_passage",
        "archetype": "Standalone",
        "displayNameTemplate": "Checkpoint with {NPCName}",
        "introNarrativeTemplate": "The guard steps forward, blocking your path with practiced authority.",
        "tier": 2,
        "isStarter": false,
        "expirationDays": 1,
        "placementFilter": {
          "placementType": "NPC",
          "personalityTypes": [
            "PROUD"
          ],
          "minBond": 0,
          "maxBond": 5,
          "npcTags": [],
          "locationProperties": [
            "Public",
            "Checkpoint",
            "Guarded"
          ],
          "locationTags": [],
          "terrainTypes": [],
          "districtId": null,
          "regionId": null,
          "routeTier": null,
          "requiredStates": [],
          "forbiddenStates": [],
          "requiredAchievements": [],
          "scaleRequirements": []
        },
        "spawnConditions": {
          "isAlwaysEligible": false,
          "playerState": {
            "completedScenes": [],
            "choiceHistory": [],
            "minStats": {},
            "requiredItems": [],
            "locationVisits": {}
          },
          "worldState": {
            "weather": null,
            "timeBlock": null,
            "minDay": 3,
            "maxDay": null,
            "locationStates": []
          },
          "entityState": {
            "npcBond": {},
            "locationReputation": {},
            "routeTravelCount": {},
            "properties": []
          },
          "combinationLogic": "AND"
        },
        "sceneArchetypeId": "single_situation",
        "serviceType": "confrontation"
      },
      {
        "id": "trade_route_dispute",
        "archetype": "Standalone",
        "displayNameTemplate": "Trade Dispute with {NPCName}",
        "introNarrativeTemplate": "Competing interests clash over access to the trade route.",
        "tier": 2,
        "isStarter": false,
        "expirationDays": 2,
        "placementFilter": {
          "placementType": "NPC",
          "personalityTypes": [
            "Mercantile",
            "Cunning"
          ],
          "minBond": 0,
          "maxBond": 5,
          "npcTags": [],
          "locationProperties": [
            "Commercial"
          ],
          "locationTags": [],
          "terrainTypes": [],
          "districtId": null,
          "regionId": null,
          "routeTier": null,
          "requiredStates": [],
          "forbiddenStates": [],
          "requiredAchievements": [],
          "scaleRequirements": []
        },
        "spawnConditions": {
          "isAlwaysEligible": false,
          "playerState": {
            "completedScenes": [],
            "choiceHistory": [],
            "minStats": {},
            "requiredItems": [],
            "locationVisits": {}
          },
          "worldState": {
            "weather": null,
            "timeBlock": null,
            "minDay": 4,
            "maxDay": null,
            "locationStates": []
          },
          "entityState": {
            "npcBond": {},
            "locationReputation": {},
            "routeTravelCount": {},
            "properties": []
          },
          "combinationLogic": "AND"
        },
        "sceneArchetypeId": "single_situation",
        "serviceType": "confrontation"
      },
      {
        "id": "missing_goods_inquiry",
        "archetype": "Standalone",
        "displayNameTemplate": "Missing Shipment Investigation",
        "introNarrativeTemplate": "Goods have vanished. Someone knows what happened.",
        "tier": 2,
        "isStarter": false,
        "expirationDays": 2,
        "placementFilter": {
          "placementType": "Location",
          "personalityTypes": [],
          "minBond": null,
          "maxBond": null,
          "npcTags": [],
          "locationProperties": [
            "Commercial"
          ],
          "locationTags": [],
          "terrainTypes": [],
          "districtId": null,
          "regionId": null,
          "routeTier": null,
          "requiredStates": [],
          "forbiddenStates": [],
          "requiredAchievements": [],
          "scaleRequirements": []
        },
        "spawnConditions": {
          "isAlwaysEligible": false,
          "playerState": {
            "completedScenes": [],
            "choiceHistory": [],
            "minStats": {},
            "requiredItems": [],
            "locationVisits": {}
          },
          "worldState": {
            "weather": null,
            "timeBlock": null,
            "minDay": 3,
            "maxDay": null,
            "locationStates": []
          },
          "entityState": {
            "npcBond": {},
            "locationReputation": {},
            "routeTravelCount": {},
            "properties": []
          },
          "combinationLogic": "AND"
        },
        "sceneArchetypeId": "single_situation",
        "serviceType": "investigation"
      },
      {
        "id": "innkeeper_service_request",
        "archetype": "Standalone",
        "displayNameTemplate": "Lodging Request with {NPCName}",
        "introNarrativeTemplate": "The innkeeper looks up from their ledger. A room for the night has its price.",
        "tier": 1,
        "isStarter": false,
        "expirationDays": 3,
        "placementFilter": {
          "placementType": "NPC",
          "personalityTypes": [
            "MERCANTILE"
          ],
          "minBond": 0,
          "maxBond": 10,
          "npcTags": [],
          "locationProperties": [
            "Commercial",
            "LodgingProvider"
          ],
          "locationTags": [],
          "terrainTypes": [],
          "districtId": null,
          "regionId": null,
          "routeTier": null,
          "requiredStates": [],
          "forbiddenStates": [],
          "requiredAchievements": [],
          "scaleRequirements": []
        },
        "spawnConditions": {
          "isAlwaysEligible": false,
          "playerState": {
            "completedScenes": [],
            "choiceHistory": [],
            "minStats": {},
            "requiredItems": [],
            "locationVisits": {}
          },
          "worldState": {
            "weather": null,
            "timeBlock": null,
            "minDay": 1,
            "maxDay": null,
            "locationStates": []
          },
          "entityState": {
            "npcBond": {},
            "locationReputation": {},
            "routeTravelCount": {},
            "properties": []
          },
          "combinationLogic": "AND"
        },
        "sceneArchetypeId": "single_situation",
        "serviceType": "service_transaction"
      },
      {
        "id": "restricted_area_entrance",
        "archetype": "Standalone",
        "displayNameTemplate": "Restricted Access at {LocationName}",
        "introNarrativeTemplate": "The door is barred. Entry requires authorization or ingenuity.",
        "tier": 2,
        "isStarter": false,
        "expirationDays": 2,
        "placementFilter": {
          "placementType": "Location",
          "personalityTypes": [],
          "minBond": null,
          "maxBond": null,
          "npcTags": [],
          "locationProperties": [
            "Private",
            "Exclusive"
          ],
          "locationTags": [],
          "terrainTypes": [],
          "districtId": null,
          "regionId": null,
          "routeTier": null,
          "requiredStates": [],
          "forbiddenStates": [],
          "requiredAchievements": [],
          "scaleRequirements": []
        },
        "spawnConditions": {
          "isAlwaysEligible": false,
          "playerState": {
            "completedScenes": [],
            "choiceHistory": [],
            "minStats": {},
            "requiredItems": [],
            "locationVisits": {}
          },
          "worldState": {
            "weather": null,
            "timeBlock": null,
            "minDay": 2,
            "maxDay": null,
            "locationStates": []
          },
          "entityState": {
            "npcBond": {},
            "locationReputation": {},
            "routeTravelCount": {},
            "properties": []
          },
          "combinationLogic": "AND"
        },
        "sceneArchetypeId": "single_situation",
        "serviceType": "access_control"
      }
    ]
  }
}