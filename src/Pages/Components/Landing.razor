@inherits LandingBase

@namespace Wayfarer.Pages.Components

<div class="location-landing-view">
    <div class="section-header">What do you do?</div>
    <div class="actions-grid">
        @* HIGH-LEVEL NAVIGATION CHOICES (3-5 options) *@

        @* REMOVED: "Look Around" - now data-driven from PlayerActionCatalog (LookAround action) *@
        @* REMOVED: "Examine Location" - consolidated into Look Around *@
        @* REMOVED: "Move to Another Spot" - now data-driven from LocationActionCatalog (IntraVenueMove actions) *@

        @* Player actions (global actions like check belongings) - RENDERED FIRST so "Look Around" appears at top *@
        @foreach (var action in PlayerActions)
        {
            <div class="action-card" @onclick="async () => await OnExecuteLocationAction.InvokeAsync(action)">
                <div class="action-name">@action.Title</div>
                <div class="action-detail">@action.Detail</div>
            </div>
        }

        @* Travel actions from location *@
        @foreach (var action in TravelActions)
        {
            <div class="action-card travel" @onclick="async () => await OnExecuteLocationAction.InvokeAsync(action)">
                <div class="action-name">@action.Title</div>
                <div class="action-detail">@action.Detail</div>
            </div>
        }

        @* Location-specific atmospheric actions (rest, lodging, work, food) *@
        @foreach (var action in LocationSpecificActions)
        {
            <div class="action-card @GetActionClass(action) @(!action.IsAvailable ? "locked" : "")"
                 @onclick="async () => { if (action.IsAvailable) await OnExecuteLocationAction.InvokeAsync(action); }">
                <div class="action-name">
                    @action.Title
                    @if (!action.IsAvailable)
                    {
                        <span class="lock-icon">ðŸ”’</span>
                    }
                </div>
                <div class="action-detail">@action.Detail</div>
                @if (!string.IsNullOrEmpty(action.Cost))
                {
                    <div class="action-cost">@action.Cost</div>
                }
                @if (!action.IsAvailable && !string.IsNullOrEmpty(action.LockReason))
                {
                    <div class="lock-reason">@action.LockReason</div>
                }
            </div>
        }
    </div>
</div>
