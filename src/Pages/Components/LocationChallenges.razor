@inherits LocationChallengesBase

@namespace Wayfarer.Pages.Components

<div class="location-challenges-view">
    <div class="section-header">Examine Location</div>

    @if (MentalGoals.Any())
    {
        <div class="section-subheader">Mental Challenges</div>
        <div class="actions-grid">
            @foreach (var goal in MentalGoals)
            {
                <div class="goal-action-btn @(goal.IsIntroAction ? "intro-action" : "")"
                     @onclick="() => OnNavigateToGoal.InvokeAsync(goal.Id)">
                    <div class="goal-system-badge mental">Mental</div>
                    <div class="goal-name">@goal.Name</div>
                    @if (!string.IsNullOrEmpty(goal.Description))
                    {
                        <div class="goal-description">@goal.Description</div>
                    }
                    <div class="goal-difficulty">
                        <span class="difficulty-label">Exposure:</span>
                        <span class="difficulty-value">@goal.Difficulty</span>
                    </div>
                    @if (!string.IsNullOrEmpty(goal.InvestigationId))
                    {
                        @if (goal.IsIntroAction)
                        {
                            <div class="goal-investigation-tag intro-tag">üîç Investigation</div>
                        }
                        else
                        {
                            <div class="goal-investigation-tag">Investigation</div>
                        }
                    }
                </div>
            }
        </div>
    }

    @if (PhysicalGoals.Any())
    {
        <div class="section-subheader">Physical Challenges</div>
        <div class="actions-grid">
            @foreach (var goal in PhysicalGoals)
            {
                <div class="goal-action-btn @(goal.IsIntroAction ? "intro-action" : "")"
                     @onclick="() => OnNavigateToGoal.InvokeAsync(goal.Id)">
                    <div class="goal-system-badge physical">Physical</div>
                    <div class="goal-name">@goal.Name</div>
                    @if (!string.IsNullOrEmpty(goal.Description))
                    {
                        <div class="goal-description">@goal.Description</div>
                    }
                    <div class="goal-difficulty">
                        <span class="difficulty-label">Danger:</span>
                        <span class="difficulty-value">@goal.Difficulty</span>
                    </div>
                    @if (!string.IsNullOrEmpty(goal.InvestigationId))
                    {
                        @if (goal.IsIntroAction)
                        {
                            <div class="goal-investigation-tag intro-tag">üîç Investigation</div>
                        }
                        else
                        {
                            <div class="goal-investigation-tag">Investigation</div>
                        }
                    }
                </div>
            }
        </div>
    }

    @if (!MentalGoals.Any() && !PhysicalGoals.Any())
    {
        <p>Nothing to examine here.</p>
    }

    <button class="back-button" @onclick="() => OnNavigateBack.InvokeAsync()">Back</button>
</div>
