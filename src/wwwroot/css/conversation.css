/* ===== WAYFARER CONVERSATION SYSTEM CSS ===== */
/* GLOBAL STYLES ONLY - Component-specific styles moved to ConversationContent.razor.css */

/* Global font family */
body {
    font-family: 'Garamond', 'Georgia', serif;
}

/* === CONVERSATION LAYOUT (GLOBAL) === */

/* Main conversation content container - no scrolling (handled by GameScreen) */
.conversation-content {
    position: relative;
}

/* Location Context */
.location-context {
    background: #f9f3e9;
    padding: 8px 20px;
    border-bottom: 1px solid #c4a684;
    font-size: 11px;
    color: #7a6250;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.conversation-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

/* Header with deadline */
.conversation-header {
    background: #2c241a;
    color: #e8dcc4;
    padding: 10px 20px;
    border-bottom: 2px solid #5c4a3a;
    display: flex;
    justify-content: space-between;
    font-size: 13px;
}

.deadline-warning {
    color: #d4704a;
    font-weight: bold;
}

/* Personality Rule Display */
.personality-rule {
    background: #fff8e7;
    padding: 8px 15px;
    margin: 10px 20px;
    border-left: 4px solid #d4a574;
    font-size: 13px;
}

.personality-rule .rule-label {
    font-weight: 600;
    color: #6a5442;
    margin-right: 8px;
}

.personality-rule .rule-description {
    color: #8a7464;
    font-style: italic;
}

/* State and Flow grouped together */
.state-flow-section {
    background: #f9f3e9;
    padding: 12px 20px;
    border-bottom: 2px solid #c4a684;
    display: flex;
    justify-content: space-between;
    gap: 30px;
    align-items: center;
    width: 100%;
}

.emotional-state {
    display: flex;
    align-items: center;
    gap: 12px;
}

.state-label {
    font-size: 11px;
    color: #7a6250;
    text-transform: uppercase;
}

.state-name {
    font-size: 16px;
    font-weight: bold;
    color: #8b4726;
}

.state-effects {
    font-size: 11px;
    color: #7a6250;
}

/* === ATMOSPHERE EFFECTS === */

/* Atmosphere-specific color schemes */
.atmosphere-neutral {
    opacity: 0.6;
}

.atmosphere-prepared {
    border-color: #2e8b57;
    background: linear-gradient(135deg, #e6f5ed, #c8e6d3);
}

.atmosphere-receptive {
    border-color: #4169e1;
    background: linear-gradient(135deg, #e6eef9, #c8d9f3);
}

.atmosphere-focused {
    border-color: #ff8c00;
    background: linear-gradient(135deg, #fff4e6, #ffe4c8);
}

.atmosphere-patient {
    border-color: #9370db;
    background: linear-gradient(135deg, #f2ecfb, #e3d3f5);
}

.atmosphere-volatile {
    border-color: #dc143c;
    background: linear-gradient(135deg, #fbe6ea, #f5c8d0);
}

.atmosphere-final {
    border-color: #8b0000;
    background: linear-gradient(135deg, #f5e6e6, #e6c8c8);
}

.atmosphere-informed {
    border-color: #ffd700;
    background: linear-gradient(135deg, #fffacd, #fff4a3);
}

.atmosphere-exposed {
    border-color: #ff1493;
    background: linear-gradient(135deg, #ffeef7, #ffc8e3);
}

.atmosphere-synchronized {
    border-color: #00ced1;
    background: linear-gradient(135deg, #e6feff, #c8f3f4);
}

.atmosphere-pressured {
    border-color: #b22222;
    background: linear-gradient(135deg, #f5e0e0, #e6c0c0);
}

/* === GLOBAL RESOURCE COMPONENTS (USED BY OTHER SCREENS) === */

/* Stats Display - used by game header */
.stats-display {
    background: #3d3429;
    padding: 10px 20px;
    border-bottom: 1px solid #5c4a3a;
    display: flex;
    justify-content: center;
    gap: 25px;
}

.stat-item {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.stat-name {
    font-size: 10px;
    color: #8b7355;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 4px;
}

.stat-level {
    font-size: 18px;
    font-weight: bold;
    color: #d4a76a;
}

.stat-xp {
    font-size: 9px;
    color: #7a6250;
}

/* Global Resource Components - used by game header and other screens */

/* === TOKEN DISPLAY === */

.token-strip {
    display: flex;
    gap: 15px;
    padding: 8px 20px;
    background: #f9f3e9;
    border-top: 1px solid #d4c5a0;
}

.token-item {
    display: flex;
    align-items: center;
    gap: 5px;
    font-size: 0.9rem;
}

.token-label {
    color: #7a6250;
}

.token-value {
    font-focus: bold;
    color: #3d3429;
}

/* ==================== AI-Generated Content Styling ==================== */
/* Visually distinguishes AI-generated narrative from JSON fallback */

/* AI-Generated content - more natural, flowing appearance */
.narrative-text.ai-generated,
.npc-dialogue.ai-generated {
    position: relative;
    background: linear-gradient(135deg, #faf4ea 0%, #f5ede0 100%);
    border-left: 3px solid #8a7a6a;
}

.narrative-text.ai-generated::before,
.npc-dialogue.ai-generated::before {
    content: "AI";
    position: absolute;
    top: -8px;
    right: 10px;
    padding: 2px 6px;
    background: #8a7a6a;
    color: #faf4ea;
    font-size: 9px;
    font-weight: bold;
    border-radius: 2px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* JSON Fallback content - more structured, template-like appearance */
.narrative-text.json-fallback,
.npc-dialogue.json-fallback {
    position: relative;
    background: #f5f0e8;
    border-left: 3px solid #6a7a8a;
}

.narrative-text.json-fallback::before,
.npc-dialogue.json-fallback::before {
    content: "TEMPLATE";
    position: absolute;
    top: -8px;
    right: 400px;
    padding: 2px 6px;
    background: #6a7a8a;
    color: #faf4ea;
    font-size: 9px;
    font-weight: bold;
    border-radius: 2px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* Card AI/Template flags - positioned on card level */
.card.ai-generated::after {
    content: "AI";
    position: absolute;
    top: 8px;
    right: 10px;
    padding: 2px 6px;
    background: #8a7a6a;
    color: #faf4ea;
    font-size: 9px;
    font-weight: bold;
    border-radius: 2px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    z-index: 10;
}

.card.json-fallback::after {
    content: "TEMPLATE";
    position: absolute;
    top: 8px;
    right: 400px;
    padding: 2px 6px;
    background: #6a7a8a;
    color: #faf4ea;
    font-size: 9px;
    font-weight: bold;
    border-radius: 2px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    z-index: 10;
}

/* Loading state for narrative while AI is generating */
.narrative-text.narrative-loading,
.npc-dialogue.narrative-loading {
    opacity: 0.8;
    animation: narrativeLoading 2s ease-in-out infinite;
}

@keyframes narrativeLoading {
    0%, 100% {
        opacity: 0.8;
    }
    50% {
        opacity: 0.6;
    }
}

/* Subtle animation for AI content to indicate dynamic generation */
.narrative-text.ai-generated,
.npc-dialogue.ai-generated {
    animation: aiGlow 3s ease-in-out infinite;
    transition: opacity 0.3s ease-in, background 0.3s ease-in;
}

@keyframes aiGlow {
    0%, 100% {
        box-shadow: 0 2px 4px rgba(138, 122, 106, 0.1);
    }
    50% {
        box-shadow: 0 2px 8px rgba(138, 122, 106, 0.2);
    }
}

/* === GLOBAL KEYFRAMES AND ANIMATIONS === */

/* XP Gain Animation */
@keyframes xpGain {
    0% {
        transform: scale(1);
        color: #7a6250;
    }
    50% {
        transform: scale(1.3);
        color: #f4d03f;
        text-shadow: 0 0 8px rgba(244, 208, 63, 0.6);
    }
    100% {
        transform: scale(1);
        color: #7a6250;
    }
}

/* Responsive Design */
@media (max-width: 768px) {
    .conversation-container {
        padding: 10px;
    }
}

/* Accessibility Improvements */
@media (prefers-reduced-motion: reduce) {
    * {
        animation: none !important;
        transition: none !important;
    }
}