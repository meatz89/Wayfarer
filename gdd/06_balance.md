# 6. Balance Philosophy

## Why This Document Exists

This document explains HOW balance creates strategic depth and WHY our principles differ from traditional RPG design. Balance in Wayfarer emerges from scarcity, not stat checks.

---

## 6.1 Core Balance Principle

**Challenge comes from resource scarcity, not mechanical difficulty.**

Traditional RPGs create difficulty through:
- Stat checks that block progress
- Enemies that deal more damage
- Skills that require higher levels

Wayfarer creates difficulty through:
- Orthogonal costs forcing prioritization
- Time scarcity preventing "do everything"

---

## 6.2 The Eight Balance Rules

### Rule 1: Perfect Information
All costs, requirements, and rewards visible before selection. No hidden gotchas. Players can calculate and plan.

### Rule 2: Resource Scarcity Creates Challenge
Difficulty comes from limited resources, not stat gates. Players with any build can progress—the question is COST.

### Rule 3: Orthogonal Costs Prevent Single Best Answer
When paths cost different resource types (time vs coins vs energy), no universal "optimal" exists.

### Rule 4: Specialization Creates Capability AND Vulnerability
High Insight opens Investigation paths but leaves Social paths expensive. Every strength implies weakness.

### Rule 5: No Unwinnable States
The four-choice archetype guarantees at least one path is ALWAYS available. Resource-strapped players pay more but progress.

### Rule 6: Mastery Through Optimization
Expert players complete content with fewer resources, not more power. Efficiency is the reward for skill.

### Rule 7: Tight Margins Throughout
Late-game margins remain tight. You never reach "resources don't matter" state. Optimization stays relevant.

### Rule 8: Build Diversity Is Mandatory
All stat distributions must have viable paths. If content only works for one build, content is broken.

---

## 6.3 The Four-Choice Balance Pattern (For Mixed Situations)

**Note:** This pattern applies to MIXED situations where trade-offs exist. Building situations offer all-positive choices. Crisis situations offer all-negative choices with stat-based severity. See §6.4 for situation types.

For Mixed situations, balance across four path types:

| Path | Requirement | Cost | Target Player |
|------|-------------|------|---------------|
| **Stat-Gated** | High threshold | Free | Specialists in that stat |
| **Resource** | None | Significant coins/items | Resource-rich players |
| **Challenge** | Moderate stat | Session entry + time | Skill-expressive players |
| **Fallback** | None | Time + social cost | Anyone (guaranteed) |

### Balance Verification (Mixed Situations)

✓ Specialists find their optimal path (stat-gated)
✓ Generalists have viable alternatives (resource/fallback)
✓ No single path dominates all situations
✓ Fallback always exists (no soft-locks)

### Building Situation Pattern

All choices positive, differentiated by WHAT you gain:

| Choice | Gains | Target Build |
|--------|-------|--------------|
| Studious | +Insight | Investigators |
| Social | +Rapport | Diplomats |
| Assertive | +Authority | Enforcers |
| Restful | +Resources | Anyone |

### Crisis Situation Pattern

All choices negative, stats determine SEVERITY:

| Stat Level | Outcome |
|------------|---------|
| Exceeds threshold | Minor loss (damage mitigated) |
| Meets threshold | Moderate loss (expected) |
| Below threshold | Major loss (punished for underinvestment) |

OR-type requirements let multiple stats qualify for damage mitigation.

---

## 6.4 The Sir Brante Rhythm (Reference Model)

Wayfarer's progression draws from "The Life and Suffering of Sir Brante" - a game where every stat point matters immediately, creating a satisfying rhythm of building and testing capabilities.

### The Core Tension

Two resource systems create competing pressures:

| Resource | Nature | Spent By | Gained By |
|----------|--------|----------|-----------|
| **Permanent Stats** | Accumulate over time | Never lost (rarely decreased) | Stat-building choices |
| **Resolve** | Fluctuating pool | Unlocking hard choices | Passive/safe decisions |

**The Dilemma:** Spend resolve NOW to unlock stat-building choices (invest in future), or save resolve for future crises (preserve options). This tension is NEVER fully resolved - it IS the game.

### Resource Duality Principle

**Every resource serves THREE roles simultaneously:**

| Role | Function | Example |
|------|----------|---------|
| **Gate (Requirement)** | Must have X to see/select option | Resolve ≥ 0 to attempt heroic action |
| **Cost (Consequence)** | Spend Y when selecting | -5 Resolve when choosing |
| **Reward (Consequence)** | Gain Z as outcome | +10 Resolve from peaceful moment |

**Critical:** Stats, coins, relationships, and resolve ALL function as gates, costs, AND rewards depending on context. A choice might require Insight ≥ 3, cost 5 coins, and reward +1 Rapport and -5 Resolve.

### Compound Requirement Types

Choices can require multiple conditions combined:

| Requirement Pattern | Example | Design Purpose |
|--------------------|---------|----------------|
| **Single Stat** | Authority ≥ 4 | Reward specialists |
| **Stat + Resolve** | Insight ≥ 3 AND Resolve ≥ 0 | Require investment AND commitment |
| **Stat + Relationship** | Rapport ≥ 3 AND NPC: Grateful | Reward networkers |
| **Lower Stat + Higher Resolve** | Authority ≥ 2 AND Resolve ≥ 5 | Let near-qualified burn reserve |
| **Resource Only** | 10 coins | Wealth alternative to skill |
| **No Requirements** | Always available | Fallback guarantee |

**OR-paths within choices:** A single choice can have MULTIPLE ways to qualify. "Negotiate" might unlock via Diplomacy ≥ 4 OR (Rapport ≥ 3 AND NPC relationship) OR (pay 15 coins).

### Simultaneous Consequences

Choices yield MULTIPLE effects at once, not single outcomes:

| Choice | Effects |
|--------|---------|
| "Accept punishment" | -5 Resolve, +1 Relationship, NPC becomes Grateful |
| "Defend your honor" | -10 Resolve, +1 Authority, -1 Rapport, NPC becomes Hostile |
| "Study through the night" | +1 Insight, -1 Stamina, -5 Resolve |
| "Accept unfavorable terms" | +5 Resolve (avoided stress), -10 Coins, -1 Reputation |

**Key insight:** Even PASSIVE choices have consequences. Backing down might preserve resolve but cost reputation. There are no free choices.

### Resolve as Rhythm Driver

Resolve creates the natural rhythm through its gain/drain patterns:

| Action Type | Resolve Effect | Creates |
|-------------|---------------|---------|
| **Heroic/Active choices** | Drain (-5 to -15) | Resource pressure |
| **Passive/Safe choices** | Restore (+5 to +10) | Recovery opportunity |
| **Going against disposition** | Heavy drain | Authenticity cost |
| **Accepting circumstances** | Moderate restore | Compromise benefit |

**The rhythm emerges naturally:** Players who spend heavily on building must recover before they can take more risks. Players who play safe accumulate resolve but miss growth opportunities. The tension between growth and safety IS the game.

### Two Orthogonal Dimensions

Scene generation operates on TWO INDEPENDENT axes that combine freely:

**Category = WHAT kind of narrative**

| Category | Player Experience |
|----------|-------------------|
| **Investigation** | Uncover information, search for clues |
| **Social** | Relationship building, negotiation |
| **Confrontation** | Direct conflict, accusation |
| **Crisis** | High-stakes decision, moral crossroads |

**ArchetypeIntensity = HOW demanding mechanically**

| Intensity | Mechanical Feel |
|-----------|-----------------|
| **Recovery** | All positive outcomes, no requirements |
| **Standard** | Normal trade-offs, achievable requirements |
| **Demanding** | Tough requirements, real costs |

**These are INDEPENDENT axes:**

| | Recovery | Standard | Demanding |
|---|----------|----------|-----------|
| **Investigation** | Easy clue-finding | Normal investigation | Dangerous pursuit |
| **Social** | Pleasant chat | Negotiation | Hostile confrontation |
| **Confrontation** | Verbal dispute | Serious conflict | Life-threatening |
| **Crisis** | Low-stakes choice | Meaningful dilemma | Life-or-death decision |

**Critical Insight:** Archetype category and intensity are orthogonal. An Investigation archetype can be Recovery intensity (easy clue-finding) or Demanding intensity (mechanically punishing pursuit). A Crisis archetype can be Recovery intensity (low-stakes choice) or Demanding intensity (life-or-death decision). The archetype category describes WHAT happens narratively; intensity describes HOW mechanically challenging it is.

### Situation Types (NOT Uniform Structure)

Situations are NOT all the same. Three distinct types exist:

| Type | Choice Outcomes | Player Experience | Example |
|------|-----------------|-------------------|---------|
| **Building** | ALL positive (different flavors) | Accumulating progress | Peaceful inn evening - study, socialize, plan, or rest |
| **Crisis** | ALL negative (varying severity) | Minimizing damage | Bandit ambush - fight, flee, bribe, or surrender |
| **Mixed** | Trade-offs | Strategic decisions | Negotiation - each path gains something, loses something |

**Building Situations:** Every choice leads to GAINS. The decision is WHAT to gain:
- "Study" → +1 Insight
- "Socialize" → +1 Rapport
- "Plan" → +1 Cunning
- "Rest" → Full recovery

No wrong answers. Player invests in their preferred direction.

**Crisis Situations:** Every choice leads to LOSSES. Stats determine severity:
- High Authority → Minor loss ("You intimidate them, lose only 2 coins")
- Low Authority → Major loss ("They take everything, lose 10 coins and -1 reputation")

The player is being TESTED. Prior stat investment pays off.

**Mixed Situations:** Trade-off territory where gains and losses coexist.

### The Pacing Rhythm (Must Be Tracked)

The game must TRACK where the player is in the rhythm based on HISTORY:

| Phase | What Happens | Procedural Decision |
|-------|--------------|---------------------|
| **Accumulation** | 2-4 building situations | Grant opportunities to grow |
| **Test** | 1 crisis situation | Challenge based on expected stats |
| **Recovery** | 1-2 building situations | Restore after crisis |
| **Repeat** | Cycle continues | Escalate thresholds each cycle |

**Rhythm Phase is Computed from History:**
- Count demanding scenes in recent window
- Count recovery scenes in recent window
- Track scenes since last crisis
- Track scenes since last recovery
- Compute: Is intensity-heavy? Is recovery-starved?

These HISTORICAL measures determine rhythm phase. The selection logic then produces appropriate scene types for that phase.

**What NEVER Influences Scene Selection:**
- Current player Resolve level
- Current player stat values
- Current player resource counts
- Whether player is "struggling" or "thriving"

The player's CURRENT state is their responsibility. Bad choices have consequences. The game does not cushion poor play with easier scenes.

**Anti-Patterns:**
- "Player has low Resolve, give easier scene" = Removes consequences
- "Rotate through categories by A-story sequence" = Arbitrary, not rhythm-based
- Crisis → Crisis → Crisis = Unfair, no accumulation time (valid anti-pattern)
- Building → Building → Building forever = No tension, no testing (valid anti-pattern)

**The Feeling:** Player senses the rhythm. "I've been gaining stats... something bad is coming." The anticipation creates tension even in peaceful moments.

### Template Selection Inputs

Template selection uses two inputs:

| Input | Source | Purpose |
|-------|--------|---------|
| **Intensity History** | Completed scenes | Determines appropriate template intensity |
| **Anti-Repetition** | Recent archetypes | Prevents immediate repetition |

**Intensity History → Template Selection:**

| History State | Template Selection | Result |
|---------------|-------------------|--------|
| Intensity-heavy (many demanding scenes) | Recovery templates | Lower thresholds, gentler choices |
| Recovery-starved (long since recovery) | Standard templates | Balanced intensity |
| Full accumulation cycle complete | Demanding templates | Higher thresholds, harder choices |

**What Does NOT Influence Selection:**
- Location safety, purpose, or difficulty (affects scaling, not selection)
- Player stats, Resolve, or resources
- Story tier or sequence number
- NPC demeanor or relationships

**Location difficulty affects CHOICE SCALING, not TEMPLATE SELECTION.**

**Scene = Arc Structure (All Templates):**

Every selected template produces a scene with the same arc structure:

| Position | Structure | Purpose |
|----------|-----------|---------|
| Situations 1 to N-1 | Building | Stat growth, investment accumulation |
| Situation N (final) | Crisis | Stat-gated choices test investment |

Tutorial and procedural scenes use identical structure. The template determines arc length and intensity, not structure.

### OR-Type Requirements (Multiple Valid Paths)

Major choices offer multiple qualification paths:

| Path Type | Example | Player Served |
|-----------|---------|---------------|
| **High Stat** | Authority ≥ 5 | Specialists who invested |
| **Stat Combination** | Cunning ≥ 3 AND ally relationship | Networkers |
| **Resolve Flex** | Authority ≥ 3 AND spend resolve | Almost-qualified, burn reserve |
| **Resource Alternative** | Pay 10 coins | Resource-rich players |
| **Fallback** | Accept poor outcome | Anyone (guaranteed) |

**Design Principle:** Everyone can progress, but not in the same way. Different builds experience different optimal paths through the same content.

### Trade-Off Consequences

Every significant choice involves SIMULTANEOUS gains and losses:

| Choice Pattern | Example | Creates |
|----------------|---------|---------|
| **Stat vs Stat** | +1 Authority, -1 Rapport | Specialization pressure |
| **Stat vs Resource** | +1 Insight, -5 Coins | Investment decision |
| **Stat vs Relationship** | +1 Cunning, NPC disapproves | Social consequences |
| **Resource vs Time** | -10 Coins OR wait 2 days | Urgency trade-off |

**Philosophy:** The game refuses to give "all wins." Prioritization IS the gameplay.

### Every Point Matters (Tight Margins)

Stat thresholds are calibrated so players are ALWAYS near the edge:

| Tier | Expected Primary Stat | Typical Threshold | Margin |
|------|----------------------|-------------------|--------|
| 0 (Tutorial) | 1-2 | 2-3 | ±1 point decides |
| 1 (Early) | 3-4 | 4-5 | ±1 point decides |
| 2 (Mid) | 5-6 | 6-7 | ±1 point decides |
| 3 (Late) | 7-8 | 8-9 | ±1 point decides |

**The Feeling:** A single stat point gained three situations ago determines whether you qualify for the free path NOW. Choices compound. Nothing is wasted.

### Stat Compounding (Early Choices Matter Most)

In Sir Brante, childhood stats combine with adolescent stats to form adult stats. One childhood point contributes to THREE adult stats. Wayfarer applies this principle:

| Game Phase | Stat Investment | Long-term Impact |
|------------|-----------------|------------------|
| **Tutorial (Tier 0)** | Foundation building | Defines viable paths for entire game |
| **Early (Tier 1)** | Specialization begins | Locks in primary build identity |
| **Mid (Tier 2)** | Refinement | Marginal improvements |
| **Late (Tier 3+)** | Optimization | Fine-tuning established build |

**Design consequence:** Tutorial choices are NOT throwaway. A player who invests in Insight early will find Investigation paths cheap throughout the game. A player who spreads points evenly will never get free paths but will have moderate access to everything.

### Authoring vs Playing (Internal vs External View)

The Building/Crisis/Mixed classification is for AUTHORS, not displayed to PLAYERS:

| Internal (Author) | External (Player) |
|-------------------|-------------------|
| "This is a Building situation" | "I have four interesting choices" |
| "Stats determine crisis severity" | "My Authority saved me from worse" |
| "Rhythm requires recovery here" | "Finally a moment to breathe" |
| "This choice costs resolve" | "This feels risky, do I commit?" |

**The player never sees labels.** They experience the rhythm through resource pressure and relief. The tension emerges from mechanics, not exposition. Authors track rhythm; players feel it.

### Categorical Scaling Preserves Rhythm

The SAME rhythm operates at every location - categorical properties scale VALUES, not STRUCTURE:

| What Scales | How It Scales |
|-------------|---------------|
| Stat thresholds | Location.Difficulty base + NPC demeanor adjustment |
| Resource costs | Location.Difficulty base + quality adjustment |
| Stat rewards | Location.Difficulty base (further locations grant more per choice) |
| Trade-off severity | Location.Difficulty scales both gains AND losses |

**Critical:** Tutorial near origin and late-game at distance feel equally tight because margins scale proportionally. The rhythm is preserved; only the numbers change.

---

## 6.5 Difficulty Scaling Mechanisms

### Categorical Properties, Not Level Gates

Difficulty scales through entity properties:
- **NPC Demeanor:** Friendly → Neutral → Suspicious → Hostile
- **Environment Quality:** Poor → Standard → Fine → Exceptional
- **Power Dynamic:** Subordinate → Equal → Superior → Authority

These adjust base archetype costs, creating contextual difficulty without explicit "level 5 required" gates.

### Progression Expectations

As A-story advances, expected player capability increases:

| Phase | A-Story | Player Growth |
|-------|---------|---------------|
| Tutorial | A1-A3 | Learning systems, building foundation |
| Early | A4-A6 | Specialization begins |
| Mid | A7-A12 | Build identity established |
| Late | A13+ | Optimization and mastery |

**Key:** Margins remain tight throughout. Difficulty scales with distance from world center, not story sequence. Late-game players face appropriately scaled challenges.

---

## 6.6 Build Diversity

### Why All Builds Must Work

If only one stat distribution succeeds, the game becomes a puzzle with a correct answer. We want:
- Multiple valid approaches to every situation
- Different builds experiencing different optimal paths
- No "trap builds" that fail content

### How We Ensure Diversity

1. **Four-choice archetype:** Every situation has paths for different specializations
2. **Stat-agnostic fallbacks:** Resource and time paths require no stats
3. **Challenge variety:** Mental, Physical, Social each favor different stats
4. **Orthogonal costs:** Different builds "pay" in different currencies

### Build Archetypes

| Build | Primary Stats | Excels At | Pays Extra For |
|-------|---------------|-----------|----------------|
| Investigator | Insight, Cunning | Mental challenges | Social situations |
| Diplomat | Rapport, Diplomacy | Social challenges | Physical obstacles |
| Enforcer | Authority | Intimidation, combat | Subtle investigation |
| Generalist | Balanced | Flexibility | Never gets free paths |

---

## 6.7 Balance Anti-Patterns

### Avoid: Single Resource Dominance
If everything costs coins, coin-rich players trivialize content. Ensure orthogonal costs.

### Avoid: Stat Gate Without Alternative
If only Insight 5+ can progress, Investigators proceed free while others are stuck. Ensure fallbacks.

### Avoid: Hidden Failure States
If choosing "wrong" option leads to unrecoverable loss, players feel cheated. Make consequences visible.

### Avoid: Power Creep
If late-game equipment trivializes challenges, tight margins philosophy breaks. Keep incremental advantages small.

---

## 6.8 Challenge and Consequence Philosophy

### The Fundamental Tension

Wayfarer must be **fair, not forgiving**. The game protects players from soft-locks while demanding they face consequences for their choices. These are orthogonal concerns:

| Concern | Solution | Scope |
|---------|----------|-------|
| **Soft-lock prevention** | Fallback choices exist | A-story only |
| **Consequence enforcement** | Requirements gate desirable choices | All content |

### Story Tier Protection (Differentiated Safety)

**A-Story (Main Path):** Every situation MUST have at least one fallback choice with no requirements. Players can ALWAYS advance the main story, though not always via their preferred path.

**B/C Stories (Side Content):** No such guarantee. Players may find themselves locked out of side content entirely based on their resource state. This is intentional—side stories are earned through preparation, not guaranteed.

| Story Tier | Soft-Lock Protection | Design Intent |
|------------|---------------------|---------------|
| **A-Story** | Fallback always available | Critical path must never block |
| **B-Story** | Requirements may fully gate | Rewards prepared players |
| **C-Story** | Requirements may fully gate | Optional depth for specialists |

### Consequences Are Player Responsibility

**The game does NOT coddle struggling players.**

When players have low or negative Resolve, the game does not generate "nice" situations to help them recover. Low Resolve is the consequence of overspending—it's the player's fault, and the game respects that choice by not erasing its meaning.

| Player State | Game Response | Rationale |
|--------------|---------------|-----------|
| Overspent Resolve | Face normal content | Consequences teach planning |
| Underinvested stats | See greyed-out choices | Shows what they're missing |
| Made poor trade-offs | Pay higher costs later | Choices must matter |

**Anti-pattern:** Generating recovery situations whenever players struggle removes the meaning of resource management. If the game always saves you, spending recklessly becomes optimal.

### Learning Through Visible Unmet Requirements

Players MUST regularly see choices they WANT but CANNOT afford. This is not cruelty—it's pedagogy.

When a player sees a greyed-out choice with "Requires Authority 4" and they have Authority 2, they learn:
- What they could have done with different investments
- What to prioritize in future building situations
- That the choice they skipped three situations ago had consequences NOW

**Design Principle:** Periodically generate situations where at least one attractive choice is gated by requirements the player doesn't meet. The fallback exists, but the player should FEEL that their past choices constrained their present options.

### Difficulty Scaling: Player Strength vs World Position

Difficulty emerges from the relationship between player capability and world challenge:

| Factor | Calculation | Effect |
|--------|-------------|--------|
| **Player Strength** | Sum of all stats | Higher = more paths qualify |
| **World Difficulty** | Distance from starting hex | Further = higher requirements |
| **Net Challenge** | World - Player | Determines how many choices are gated |

Requirements scale based on this relationship. A player who has invested well finds more choices available; a player who spread thin or overspent finds more choices locked.

### Fair Rhythm, Not Forgiveness

The game maintains fairness through rhythm, not rescue:

| Principle | Implementation |
|-----------|----------------|
| **One crisis at a time** | Never stack multiple crisis situations |
| **Respite exists** | Building situations appear between crises |
| **Ebbs and flows** | Tension rises and falls naturally |
| **Anticipation builds** | Player senses crisis approaching |

**What this is NOT:**
- Rescue mechanics that save overextended players
- Difficulty reduction when player is struggling
- Automatic recovery when Resolve is low
- Removal of demanding content for unprepared players

### Scene = Arc Structure

Each A-Story **scene IS an arc**. The arc structure is defined by the SceneTemplate (pre-authored JSON, parsed at game start):

```
SceneTemplate
    ├── Situation 1: Building (stat growth, investment)
    ├── Situation 2: Building (narrative setup)
    ├── ...
    └── Situation N: CRISIS (stat-gated choices, B-Consequence triggers)
                     ↑ Always the FINAL situation
```

**Situation Structure Types:**

| Position | Structure | Choice Generation | Player Experience |
|----------|-----------|-------------------|-------------------|
| **1 to N-1** | Building | Choices GRANT stats, minimal requirements | "Who am I becoming?" |
| **N (final)** | Crisis | Stat-gated choices test accumulated investment | "Was my investment enough?" |

**Template Selection is Procedural:**

Which SceneTemplate is used depends on:
- Player's current state
- Previous arc patterns (anti-repetition)
- Narrative progression requirements
- Game state categorical properties

**Axis: ArchetypeIntensity (Content CHALLENGE)**

| Intensity | Mechanical Feel | Example Archetypes |
|-----------|-----------------|-------------------|
| **Recovery** | All positive outcomes, gentle | QuietReflection, CasualEncounter |
| **Standard** | Normal trade-offs, achievable | Investigation, Social |
| **Demanding** | Tough requirements, real costs | Confrontation, Crisis |

**Position determines structure, Intensity determines difficulty.** A Building situation with Demanding intensity still grants stats, but the narrative stakes are high. A Crisis situation with Recovery intensity still has stat-gated choices, but the consequences are gentle.

### Intensity History Drives Template Selection

Which SceneTemplate is selected depends on intensity history, not sequence position:

| Intensity History | Template Selection Effect |
|-------------------|--------------------------|
| Many demanding scenes recently | Shorter arcs with Recovery intensity |
| Long since last recovery | Medium arcs with stat accumulation focus |
| Balanced history | Standard arc lengths |
| Heavy investment phase complete | Longer arcs building to significant Crisis |

**Anti-pattern:** Checking `if (MainStorySequence == 4)` violates archetype reusability. Template selection emerges from history, not position.

### Arc Length Creates Variety

Different SceneTemplates have different situation counts:

| Arc Type | Situations | Player Experience |
|----------|------------|-------------------|
| Short (2-3) | Quick buildup → Crisis | Fast-paced, frequent tests |
| Medium (4-5) | Substantial buildup → Crisis | Balanced investment/payoff |
| Long (6+) | Extended buildup → Major Crisis | Epic narrative weight |

The procedural system selects arc length based on:
- Recent intensity patterns (anti-repetition)
- Player resource state
- Narrative progression needs

**Result:** Player cannot predict when Crisis comes (arc length varies), but mechanical flow is always satisfying (template structure is sound).

**Design rationale:**
- Recovery intensity scenes appear through intensity history, not fixed positions
- Heavy demanding history triggers shorter arcs with gentler content
- Peaceful moments are EARNED through story structure, not given when player struggles
- Arc length + archetype category + intensity combine to create variety

### Template Selection Factors

Template selection is deterministic: same inputs always produce same output.

| Factor | Effect on Selection |
|--------|---------------------|
| **Intensity History** | Determines appropriate template intensity |
| **Anti-repetition** | Penalizes recently-used archetypes |

**What does NOT influence selection:**
- Location context (safety, purpose, difficulty)
- Player stats, resources, or Resolve
- Story sequence number

Location properties affect CHOICE SCALING (stat requirements), not TEMPLATE SELECTION. See §6.4 for authoritative definition.

**Key Principles:**

- **History Over State:** Selection reads PAST intensity, never reacts to PRESENT player state
- **Peaceful is Earned:** Heavy demanding history triggers recovery templates
- **Deterministic:** Same game state always produces same selection

### Context Injection Principle (HIGHLANDER Compliance)

**Two concepts:** SceneTemplate (pure archetype), Scene (runtime instance).

**One DTO, two sources:** SceneDTO serves both creation and runtime:

| Path | DTO Source | Context Source |
|------|------------|----------------|
| **Authored (A1-A10)** | JSON → SceneDTO | Pre-defined in JSON |
| **Procedural (A11+)** | Code → SceneDTO | Derived from GameWorld |

Parser receives SceneDTO and produces Scene. Parser has no knowledge of source.

**Orthogonal Systems:**
- **Template Selection:** Uses intensity history + anti-repetition (determines WHICH template)
- **Choice Scaling:** Uses Location.Difficulty (determines requirement VALUES)

These systems are independent. Position in scene determines choice structure (Building vs Crisis); Location.Difficulty scales the numbers within that structure.

See arc42/08 §8.25 for technical implementation pattern.

**Choice Value Calculation SHOULD Consider:**

| Factor | Calculation | Effect | Current Status |
|--------|-------------|--------|----------------|
| Player Strength | Sum of all 5 stats | Higher = more paths qualify, but also higher baseline difficulty | IMPLEMENTED (Player.TotalStatStrength) |
| Location Difficulty | Hex distance from (0,0) / 5 | Further = higher requirements | IMPLEMENTED (LocationPlacementService) |
| Situation Position | Building vs Crisis | Position in scene determines structure | IMPLEMENTED (final = Crisis) |
| NPC Demeanor | Friendly/Neutral/Hostile | Scales stat thresholds | IMPLEMENTED |
| Environment Quality | Basic/Standard/Premium/Luxury | Scales resource costs | IMPLEMENTED |

**Net Challenge Formula (FULLY IMPLEMENTED):**

The relationship between player capability and world position determines stat requirement difficulty:
- **Player Strength** (sum of stats) determines baseline capability
- **Location Difficulty** (hex distance / 5) determines baseline challenge
- **Net Challenge** = LocationDifficulty - (PlayerStrength / 5), clamped to [-3, +3]

RuntimeScalingContext.NetChallengeAdjustment is calculated at query-time and applied to ALL stat requirements via ApplyStatAdjustment(). Combined with NPC demeanor adjustment:
- **Total Stat Adjustment** = StatRequirementAdjustment (NPC) + NetChallengeAdjustment (Location vs Player)
- Example: Hostile NPC (+2) + Underpowered player (+2) = +4 to all stat thresholds
- Example: Friendly NPC (-2) + Overpowered player (-3) = -5 to all stat thresholds (floored at 0)

A player who invested well finds more choices available; a player who spread thin or overspent finds more choices locked. This creates natural difficulty scaling without artificial level gates.

### Intensity Categorization vs Choice Requirements (Orthogonal Systems)

Two separate systems describe content, but only one gates player access:

| System | Purpose | Effect on Player |
|--------|---------|------------------|
| **ArchetypeIntensity** | Content categorization | Describes challenge level; does NOT filter visibility |
| **Choice Requirements** | Access gating | Stats/resources gate individual choices |

**Critical distinction:** ALL situations display regardless of player state. ArchetypeIntensity (Recovery/Standard/Demanding) describes inherent content difficulty but never hides situations from struggling players. Learning happens when players SEE demanding situations but find their attractive choices greyed-out due to unmet requirements.

A crisis situation displays even when the player is exhausted. The fallback exists, but the player sees what they COULD have done with better resource management. This teaches consequence through visible limitation, not through hidden content.

---

## 6.9 Sources and References

### The Life and Suffering of Sir Brante

The Sir Brante rhythm model draws from extensive analysis of this narrative RPG:

- **Willpower System:** Fluctuating resource that gates heroic choices, restored by passive/safe decisions
- **Stat Compounding:** Childhood stats (Determination, Perception) combine with adolescent stats (Nobility, Ingenuity, Spirituality) to form six adult stats - one early point equals three adult points
- **Simultaneous Consequences:** Choices yield multiple effects (stats, relationships, willpower) simultaneously
- **OR-Type Requirements:** Multiple qualification paths for the same choice

Key design insight from developer: "The protagonist ain't almighty and his inner resources are limited. He needs to 'pay' for following his heart."

---

## Cross-References

- **Vision**: See [01_vision.md](01_vision.md) for design pillars and anti-goals
- **Technical Implementation**: See [arc42/08_crosscutting_concepts.md](../arc42/08_crosscutting_concepts.md) for system architecture
