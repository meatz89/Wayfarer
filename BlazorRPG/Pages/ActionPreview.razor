@inherits ActionPreviewBase

<div class="action-preview">
    <div class="preview-header">
        <h4>@GetActionName()</h4>
        <p class="action-description">@GetActionDescription()</p>
    </div>

    @if (GetRequirementDescriptions().Any())
    {
        <div class="tooltip-section">
            <h5>Requirements</h5>
            <div class="tooltip-list">
                @foreach (string req in GetRequirementDescriptions())
                {
                    <div class="tooltip-item">
                        <div class="tooltip-item-content">
                            @((MarkupString)req)
                        </div>
                    </div>
                }
            </div>
        </div>
    }

    @if (GetCosts().Any())
    {
        <div class="tooltip-section">
            <h5>Costs</h5>
            <div class="tooltip-list">
                @foreach (Outcome cost in GetCosts())
                {
                    <div class="tooltip-item">
                        <div class="tooltip-item-header">
                            <div class="tooltip-item-title">
                                @GetOutcomeIcon(cost)
                                <span class="tooltip-item-name">@cost.GetDescription()</span>
                            </div>
                            <span class="tooltip-item-value negative-change">
                                @cost.GetPreview(GameState.PlayerState)
                            </span>
                        </div>
                    </div>
                }
            </div>
        </div>
    }

    @if (GetRewards().Any())
    {
        <div class="tooltip-section">
            <h5>Potential Outcomes</h5>
            <div class="tooltip-list">
                @foreach (Outcome reward in GetRewards())
                {
                    <div class="tooltip-item">
                        <div class="tooltip-item-header">
                            <div class="tooltip-item-title">
                                @GetOutcomeIcon(reward)
                                <span class="tooltip-item-name">@reward.GetDescription()</span>
                            </div>
                            <span class="tooltip-item-value positive-change">
                                @reward.GetPreview(GameState.PlayerState)
                            </span>
                        </div>
                    </div>
                }
            </div>
        </div>
    }

    <div class="action-buttons">
        <button class="action-button confirm-button" @onclick="HandleConfirm">Proceed</button>
        <button class="action-button cancel-button" @onclick="HandleBack">Back</button>
    </div>
</div>