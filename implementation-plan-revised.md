# Wayfarer POC Implementation Plan - REVISED FOR GAME DESIGN

*Generated by Claude Code on 2025-07-08*

## CRITICAL GAME DESIGN PRINCIPLES

**This implementation plan follows the principle that games create interactive optimization puzzles for players to solve, NOT automated systems that solve everything for them.**

### ‚ùå ANTI-PATTERNS TO AVOID (App-Style Features)
- Profit calculators that show exact coin amounts
- "Best route" recommendations
- Trading opportunity displays
- Automated planning tools
- Resource projection calculators
- Journey optimizers

### ‚úÖ GAME PATTERNS TO IMPLEMENT (Player Discovery)
- Simple systems with complex interactions
- Information that requires exploration to gather
- Meaningful choices with trade-offs
- Pattern discovery through gameplay
- Player memory and note-taking as gameplay elements

---

## PHASE 1: FOUNDATION SYSTEMS ‚úÖ COMPLETED

### Task 1: Time Block Constraint System ‚úÖ COMPLETED
- 5 time blocks per day creating strategic pressure
- All actions consume time blocks
- Players must prioritize activities

### Task 2: Resource Adjustments ‚úÖ COMPLETED  
- 6 stamina points (down from 12)
- 6 inventory slots (down from 10)
- Creates meaningful capacity constraints

### Task 3: Dynamic Location-Based Pricing ‚úÖ COMPLETED
- Location-specific buy/sell prices
- NO automated profit discovery
- Players must manually visit locations to learn prices

---

## PHASE 2: CORE GAME SYSTEMS (Current Focus)

### üéØ HIGH PRIORITY: Contract System with Time Pressure
**Complexity:** Medium (8 hours)
**Game Design Goal:** Create structured goals with cascading consequences

#### What This Adds to Gameplay:
- **Time Pressure**: Contracts have deadlines creating urgency
- **Risk/Reward**: Players choose contracts based on their current situation
- **Planning Puzzle**: Players must figure out routes and timing themselves
- **Failure Consequences**: Late delivery affects reputation/payment

#### Implementation:
1. Contract availability based on time windows
2. Deadline tracking integrated with time block system
3. Penalty system for late delivery
4. Contract completion rewards

#### Files to Modify:
- `src/Game/MainSystem/ContractSystem.cs` - Enhanced deadline logic
- `src/GameState/GameWorldManager.cs` - Contract state management
- `src/Pages/ContractUI.razor` - Simple contract selection interface

**Critical**: NO automated contract recommendations or optimal path suggestions

---

### üéØ MEDIUM PRIORITY: Route Condition Variations
**Complexity:** Medium (6 hours)  
**Game Design Goal:** Add strategic depth through changing conditions

#### What This Adds to Gameplay:
- **Adaptation Required**: Routes change availability based on time/weather
- **Information Gathering**: Players learn route patterns through experience
- **Risk Management**: Reliable vs unreliable routes with different costs
- **Seasonal Strategy**: Different approaches work at different times

#### Implementation:
1. Time-of-day route restrictions
2. Weather-based route modifications
3. Seasonal availability changes
4. Route discovery through usage

#### Files to Modify:
- `src/Game/MainSystem/RouteOption.cs` - Condition properties
- `src/GameState/TravelManager.cs` - Availability logic
- `src/Content/Templates/routes.json` - Condition data

**Critical**: NO "route predictor" or "optimal route finder" features

---

### üéØ MEDIUM PRIORITY: Discovery and Progression System
**Complexity:** Medium (8 hours)
**Game Design Goal:** Reward exploration with expanded possibilities

#### What This Adds to Gameplay:
- **Exploration Rewards**: New locations unlock through actions
- **Progressive Complexity**: More options as players learn
- **Achievement Satisfaction**: Tangible progress through discovery
- **Replayability**: Different discovery paths on different playthroughs

#### Implementation:
1. Location unlock criteria (trade volume, relationships, discoveries)
2. New route discovery through repeated travel
3. Special goods/contracts unlock with progression
4. Knowledge system (player learns through experience)

#### Files to Modify:
- `src/Game/MainSystem/LocationSystem.cs` - Discovery logic
- `src/GameState/TravelManager.cs` - Route unlocking
- `src/Game/MainSystem/ContractSystem.cs` - Progressive contracts

**Critical**: NO automated discovery tracking or "what to do next" hints

---

## PHASE 3: POLISH AND REFINEMENT

### Code Style Cleanup
**Complexity:** Low (4 hours)
- Remove `var` usage per coding standards
- Eliminate unnecessary lambda expressions
- Consistent naming conventions

### Performance Optimization
**Complexity:** Low (3 hours)
- Optimize state change detection
- Remove any accidental caching in UI components
- Ensure proper reactive patterns

---

## IMPLEMENTATION ORDER AND RATIONALE

### Week 1 Priority: Contract System
**Why First**: Contracts provide structured goals that tie all other systems together. Without contracts, the game lacks direction and purpose. Time pressure from deadlines creates urgency that makes time block management meaningful.

### Week 2 Priority: Route Variations  
**Why Second**: Once players have goals (contracts), varying route conditions adds strategic depth to achieving those goals. This creates the "everything costs something else" decision loops.

### Week 3 Priority: Discovery System
**Why Third**: After core systems work, progression provides long-term engagement and replayability. This keeps the optimization puzzle fresh as new elements are introduced.

---

## SUCCESS METRICS (Revised for Game Design)

### Primary Success Criteria
- **Player Discovery**: Players naturally develop their own pricing knowledge through exploration
- **Optimization Emergence**: Multiple viable strategies emerge from player testing without guidance
- **Mental Model Building**: Players create their own understanding of systems through experience
- **Decision Tension**: Every choice involves meaningful trade-offs that players must evaluate

### Secondary Success Criteria
- **"Aha!" Moments**: Players discover profitable patterns through their own investigation
- **Personal Strategy Development**: Different players develop different approaches to the same challenges
- **Information as Advantage**: Players who explore more have competitive advantages
- **Mistake Learning**: Failed strategies teach players without explicit feedback systems

### Anti-Success Criteria (Warning Signs)
- Players asking for "better UI" to show them optimal choices
- Players wanting automated calculators or planning tools
- Players frustrated by "missing information" that requires exploration
- Gameplay becoming mechanical/automated rather than thoughtful

---

## TECHNICAL ARCHITECTURE ALIGNMENT

All implementations must follow:
- **UI ‚Üí GameWorldManager Gateway Pattern**: No direct manager injection
- **Stateless Repositories**: Dynamic GameWorld access only
- **GameWorld Single Source of Truth**: Pure state container
- **Game Design Principles**: NO automated convenience features that solve puzzles for players

This revised plan focuses on creating **interactive optimization puzzles** rather than **convenient automation tools**, ensuring the POC demonstrates genuine game design rather than application development.